<!DOCTYPE html>
<html>
  <head>
    <title>Cookbase</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %> 
    <%= javascript_include_tag 'application', 'data-turbo-track': 'reload'  %>
  </head>
  <% flash.each do |type, msg| %>
    <div id="flash-<%= type %>" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative pt-2" role="alert">
      <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
        <svg onclick="document.getElementById('flash-<%= type %>').style.display = 'none';" class="fill-current h-6 w-6 text-red-500 cursor-pointer" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
          <title>Close</title>
          <path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"/>
        </svg>
      </span>
      <%= msg %>
    </div>
  <% end %>

  <body class="bg-gray-100">
    <%= turbo_include_tags %>
    <nav class=" w-full top-0 bg-white p-4">
      <div class="container mx-auto flex justify-between items-center">
        <%= link_to image_tag('cookbase.svg'), root_path %>
        <div>
          <% if logged_in? %>
            <%= link_to 'My Recipes', recipes_path, class: 'text-gray-800 hover:text-gray-600 ml-4' %>
            <%= link_to 'Logout', logout_path, method: :delete, class: 'text-gray-800 hover:text-gray-600 ml-4' %>
          <% else %>
            <%= link_to 'Login', login_path, class: 'text-gray-800 hover:text-gray-600 ml-4' %>
          <% end %>
        </div>
      </div>
    </nav>





    <div class="<%= params[:controller] == 'recipes' && (params[:action] == 'index' || params[:action] == 'search') ? 'w-full' : 'container mx-auto' %>">
      <%= yield %>
    </div>

  </body>
</html>


